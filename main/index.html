<!DOCTYPE html>
<html lang="en">
<head>
  <title>TAPP</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="/main/universal/base.css">
  <link rel="stylesheet" href="./tapp.css">
</head>

<body>
<!-- Game -->
<section style="padding-top: 16px">
  <article class="threefourth" style="height: 80vh; position: relative" id="canvasWrap">
    <canvas id="canvas" style="width: 100%; height: 100%; position: relative"></canvas>
    <input type="number" id="mainInput"></input>
  </article>
  <article class="fourth">
    <log id="log" style="height: 100%"></log>
  </article>
</section>

<!-- How to Play -->
<section style="margin-top: 20px">
  <article style="width: 100%; padding: 0 40px">
    <h1>How to Play<button type="button" id="collapsible" style="border: none; background: none" aria-label="How to Play"><i id="arrow" class="arrow"></i></button></h1>
    <div id="content" style="max-height: 0; display: block; overflow: hidden;">
      <h3>Controls:</h3><p>
        - Click "Create Game" or enter a game code to begin.<br>
        - On the character building screen, build a character and type a name.<br>
        - Click the deck or one of three cards to draw a card.<br>
        - Click a card in your hand to select it and use the controls on the side to play.<br>
        - Right click a card or press space to enlarge a selected card.<br>
        - Click on an opponent's hand or name to view their stats.<br>
      </p><h3>Building Phase:</h3><p>
        - Start by choosing your class, bonus attack, and ability. Then, perform all actions relating to your class and ability.<br>
        - After this is done, each player may draw five cards and discard one, leaving them with four to begin the game.
      </p><h3>Combat Phase:</h3><p>
        - Each player begins with 100 hitpoints, and loses them as they are damaged.<br>
        - In order of speed, players begin their turn by discarding as desired, then drawing once if they have less than five cards.<br>
        - Players attack the player with the next lowest speed, looping around and skipping themself.<br>
        - After attacking, the weapon's ability activates, and the card is discarded. Numbers always round down.<br>
        - This phase ends when the deck runs out or a player loses all their hitpoints.
      </p><h3>Intermission Phase:</h3><p>
        - The player with the most hitpoints loses 0 Life Points. Each next place loses 2 more. Ties go to the faster player.<br>
        - All players discard until they have 3 cards.<br>
        - The winner draws cards equal to the amount of players, keeps one, and passes the rest to second place. Repeat.<br>
        - Each player draws three tokens, and keeps one. Mages gain an extra random token as well.<br>
        - The deck is reshuffled (players keep cards in their hand) and another combat phase begins.
      </p>
    </div>
  </article>
</section>

<!-- Development -->
<section style="padding: 0 40px">
  <article style="width: 100%">
    <h1>Whats changed from TAPP?</h1>
    <h3>Motivation</h3>
      <p>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspPlayed this with some friends at 1am. They had a lot of interesting ideas to implement.</p>
    <h3>Overhauling the Game</h3>
      <p>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspWhat if TAPP was more broken and unbalanced and slightly more unfair? There hopefully are 3 new tokens, 16 new weapons, and maybe some new class abilities idk.
      <br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspAlso hopefully it works on chrome.</p>
    <h3>Credits</h3>
      <p>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspTAPP was created by Casey Dow and Calvin Chen. All credit goes for sprites and implementation go to them. I only added some wacky gamebreaking stuff to make things more interesting.</p>
  </article>
</section>

<!-- Footer -->
<script src="/main/universal/footer.html"></script>

<script src="https://cdn.pubnub.com/sdk/javascript/pubnub.5.0.0.min.js"></script>
<script src="./tapp.js" defer></script>
<script>

document.getElementById("collapsible").addEventListener("click", () => {
  let content = document.getElementById("content");
  let arrow = document.getElementById("arrow")
  if (content.className.includes("expand")) {
    content.setAttribute("class", "contract");
    arrow.setAttribute("class", "arrow rotate-right");
  } else {
    content.setAttribute("class", "expand");
    arrow.setAttribute("class", "arrow rotate-down");
  }
});

</script>

</body>
</html>
